# 원광대학교 사회과학대학 주점 테이블 관리 시스템

이 프로젝트는 대학교 축제 주점 운영을 효율적으로 관리하기 위해 만들어진 실시간 테이블 관리 시스템입니다. 손님은 QR 코드를 통해 직접 테이블 정보를 등록하고, 관리자는 관리자 페이지에서 모든 테이블 현황을 실시간으로 모니터링하고 관리할 수 있습니다.

## ✨ 주요 기능

- **간편한 손님 등록**: 손님은 QR 코드를 스캔하여 테이블 번호, 대표자 이름, 연락처, 인원 등 최소한의 정보만으로 빠르게 테이블을 등록할 수 있습니다.
- **실시간 대시보드**: 관리자는 현재 사용 중인 모든 테이블의 현황(테이블 번호, 대표자, 남은 시간 등)을 실시간으로 한눈에 파악할 수 있습니다.
- **효율적인 시간 관리**: 테이블 목록은 남은 이용 시간이 적은 순서대로 자동 정렬되어, 곧 비게 될 테이블을 쉽게 예측하고 손님을 안내할 수 있습니다.
- **유연한 테이블 관리**: 관리자는 손님이 잘못 입력한 정보를 수정하거나, 손님이 퇴장한 후 테이블을 목록에서 삭제하는 등 유연하게 테이블을 관리할 수 있습니다.
- **자동 알림 시스템**: 각 테이블의 이용 시간이 10분, 5분 남았거나 만료되었을 때 관리자 페이지에 자동으로 알림을 보내, 원활한 테이블 회전을 돕습니다.
- **안정적인 데이터 관리**: 서버가 재시작되어도 테이블 데이터가 초기화되지 않도록 파일 시스템에 데이터를 안전하게 저장합니다.

## 📖 사용 방법

### 👨‍👩‍👧‍👦 손님 페이지

- **URL**: [https://wkucollegeofsocialscience.up.railway.app/](https://wkucollegeofsocialscience.up.railway.app/)

1.  테이블에 부착된 QR 코드를 스캔하여 손님 페이지에 접속합니다.
2.  안내에 따라 **테이블 번호, 대표자 이름, 전화번호, 총인원**을 입력합니다.
3.  **'등록하기'** 버튼을 누르면 2시간 이용 시간이 시작되며, 남은 시간을 확인할 수 있는 타이머 페이지로 자동 이동됩니다.

### 👮 관리자 페이지

- **URL**: [https://wkucollegeofsocialscience.up.railway.app/#admin](https://wkucollegeofsocialscience.up.railway.app/#admin)

1.  위 주소로 접속하여 관리자 대시보드를 엽니다.
2.  **테이블 정보 수정**:
    - 수정이 필요한 테이블의 **`수정`** 버튼을 클릭합니다.
    - 팝업 창에서 정보를 수정한 후 **`저장`** 버튼을 누릅니다.
3.  **테이블 삭제**:
    - 손님이 퇴장한 테이블의 **`삭제`** 버튼을 클릭합니다.
    - 확인 창이 나타나면 **`확인`**을 눌러 테이블을 목록에서 제거합니다.
4.  **실시간 현황 확인**:
    - 페이지 상단에서 현재 사용 중인 테이블 수를 확인할 수 있습니다.
    - 테이블 목록을 통해 각 테이블의 남은 시간을 확인하고, 시간이 만료된 테이블(빨간색으로 표시)을 관리합니다.

## 🛠️ 기술 스택

- **Frontend**: React, TypeScript
- **Backend**: Node.js, Express
- **Real-time Communication**: Socket.IO
- **Deployment**: Docker, Railway

## 🚀 로컬 개발 환경 설정

### 1. 사전 준비

- [Node.js](https://nodejs.org/) (v20.x 이상)가 설치되어 있어야 합니다.
- 프로젝트를 클론합니다.
  ```bash
  git clone https://github.com/nongnola1221/WKU_Festival_Bar_Management.git
  cd WKU_Festival_Bar_Management
  ```

### 2. 의존성 설치

```bash
# 루트, 클라이언트, 서버 의존성 동시 설치
npm install && npm install --prefix client && npm install --prefix server
```

### 3. 애플리케이션 실행 (개발 모드)

두 개의 터미널을 열고 각각 다음 명령어를 실행합니다.

- **터미널 1: 클라이언트 실행** (`http://localhost:3000`)
  ```bash
  npm start --prefix client
  ```

- **터미널 2: 서버 실행** (`http://localhost:4000`)
  ```bash
  npm run server
  ```

## 🚢 배포

이 프로젝트는 `Dockerfile`을 사용하여 컨테이너화되며, [Railway](https://railway.app/)를 통해 배포됩니다.

- **빌드 및 배포**: `main` 브랜치에 코드가 푸시되면, Railway는 `Dockerfile`을 사용하여 자동으로 이미지를 빌드하고 배포를 진행합니다.
- **데이터 영속성**: 현재는 파일 시스템(`server/db.json`)을 사용하여 데이터를 저장합니다.
- **무중단 배포**: Railway의 헬스 체크 기능을 사용하여 무중단 배포가 설정되어 있습니다. (`/health` 엔드포인트 사용)