# 원광대학교 사회과학대학 주점 테이블 관리 시스템

이 프로젝트는 대학교 축제 주점 운영을 효율적으로 관리하기 위해 만들어진 실시간 테이블 관리 시스템입니다. 손님은 QR 코드를 통해 직접 테이블 정보를 등록하고, 관리자는 관리자 페이지에서 모든 테이블 현황을 실시간으로 모니터링하고 관리할 수 있습니다.

## ✨ 주요 기능

- **손님용 등록 페이지**: 손님이 직접 QR 코드를 스캔하여 테이블 번호, 대표자 이름, 연락처, 인원을 등록합니다.
- **실시간 관리자 대시보드**:
    - 현재 사용 중인 모든 테이블 현황을 실시간으로 확인합니다.
    - 테이블 목록은 남은 시간이 적은 순서대로 자동 정렬됩니다.
    - 각 테이블의 남은 이용 시간을 시각적으로 표시합니다.
- **테이블 관리**:
    - **정보 수정**: 손님이 잘못 입력한 정보를 수정할 수 있습니다.
    - **테이블 삭제**: 손님이 퇴장한 후 테이블을 목록에서 제거합니다.
- **자동 알림 시스템**:
    - 각 테이블의 이용 시간이 10분, 5분 남았거나 만료되었을 때 관리자 페이지에 자동으로 알림을 보냅니다.
- **데이터 영속성**:
    - 서버가 재시작되어도 테이블 데이터가 초기화되지 않도록 파일 시스템(`db.json`)에 데이터를 저장합니다.

## 🛠️ 기술 스택

- **Frontend**: React, TypeScript
- **Backend**: Node.js, Express
- **Real-time Communication**: Socket.IO
- **Deployment**: Docker, Railway

## 🚀 설치 및 실행 방법

### 1. 사전 준비

- [Node.js](https://nodejs.org/) (v20.x 이상)가 설치되어 있어야 합니다.
- 프로젝트를 클론합니다.
  ```bash
  git clone https://github.com/nongnola1221/WKU_Festival_Bar_Management.git
  cd WKU_Festival_Bar_Management
  ```

### 2. 의존성 설치

프로젝트는 루트, `client`, `server` 각각의 의존성을 가집니다.

```bash
# 루트 의존성 설치
npm install

# 클라이언트 의존성 설치
npm install --prefix client

# 서버 의존성 설치
npm install --prefix server
```

### 3. 애플리케이션 실행 (개발 모드)

두 개의 터미널을 열고 각각 다음 명령어를 실행합니다.

- **터미널 1: 클라이언트 실행**
  ```bash
  npm start --prefix client
  ```
  - `http://localhost:3000` 에서 클라이언트 앱이 실행됩니다.

- **터미널 2: 서버 실행**
  ```bash
  npm run server
  ```
  - `http://localhost:4000` 에서 백엔드 서버가 실행됩니다.

### 4. 관리자 페이지 접속

- 웹 브라우저에서 `http://localhost:3000/#admin` 주소로 접속하면 관리자 대시보드를 볼 수 있습니다.

## 🚢 배포

이 프로젝트는 `Dockerfile`을 사용하여 컨테이너화되며, [Railway](https://railway.app/)를 통해 배포됩니다.

- **빌드 및 배포**: `main` 브랜치에 코드가 푸시되면, Railway는 `Dockerfile`을 사용하여 자동으로 이미지를 빌드하고 배포를 진행합니다.
- **데이터베이스**: 현재는 파일 시스템(`server/db.json`)을 사용하여 데이터를 저장합니다.
- **무중단 배포**: Railway의 헬스 체크 기능을 사용하여 무중단 배포가 설정되어 있습니다. (`/health` 엔드포인트 사용)
